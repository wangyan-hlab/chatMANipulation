# :turtle: jog点动

---
> **User: 我是一个机器人工程师,我现在想控制一个6关节机器人运动,你可以使用的函数及其相关信息如下：[['StartJOG(ref,nb,dir,vel,acc,max_dis)', "功能:'jog点动'", "参数:'ref:0-关节点动,2-基坐标系点动,4-工具坐标系点动,8-工件坐标系点动, nb:1-1关节(x轴),2-2关节(y轴),3-3关节(z轴),4-4关节(rx),5-5关节(ry),6-6关节(rz), dir:0-负方向,1-正方向, vel:速度百分比，[0~100], acc:加速度百分比，[0~100], max_dis:单次点动最大角度/距离,单位°或mm'", "返回值:'成功：[0],失败：[errcode]'"], ['StopJOG(ref)', "功能:'jog点动减速停止'", "参数:'ref为:1-关节点动停止,3-基坐标系点动停止,5-工具坐标系点动停止,9-工件坐标系点动停止'", "返回值:'成功：[0],失败：[errcode]'"], ['ImmStopJOG()', "功能:'jog点动立即停止'", "参数:'n/a:n/a'", "返回值:'成功：[0],失败：[errcode]'"]].请你先复述一下你可以使用的函数信息，然后我们再继续接下来的任务**

---

*ChatGPT:*
您可以使用以下三个函数来控制一个6关节机器人的运动：

1. StartJOG(ref,nb,dir,vel,acc,max_dis)(ref, nb, dir, vel, acc, max_dis)
   - 功能: jog点动
   - 参数: 
     - ref : 0-关节点动,2-基坐标系点动,4-工具坐标系点动,8-工件坐标系点动
     - nb : 1-1关节(x轴),2-2关节(y轴),3-3关节(z轴),4-4关节(rx),5-5关节(ry),6-6关节(rz)
     - dir : 0-负方向,1-正方向
     - vel : 速度百分比，[0~100];
     - acc : 加速度百分比，[0~100]
     - max_dis : 单次点动最大角度/距离,单位°或mm
   - 返回值：成功：[0],失败：[errcode]

2. StopJOG(ref)(ref)
   - 功能: jog点动减速停止
   - 参数:
     - ref : 1-关节点动停止,3-基坐标系点动停止,5-工具坐标系点动停止,9-工件坐标系点动停止
   - 返回值：成功：[0],失败：[errcode]

3. ImmStopJOG()(n/a)
   - 功能: jog点动立即停止
   - 参数: n/a为:n/a
   - 返回值：成功：[0],失败：[errcode]

接下来有什么任务需要我帮忙吗？

---
> **User:好的，请你使用这些函数帮我写一个测试程序，分别测试机器人在关节,基坐标系，和工具坐标系下的点动功能，简单测试即可**
---

*ChatGPT:*
好的，以下是一个简单的测试程序，用于测试机器人在关节、基坐标系和工具坐标系下的点动功能。请您根据实际情况进行修改：

```python
from time import sleep

# 导入机器人控制模块

# 测试函数
def test_jogging():
    # 关节点动测试
    print("开始关节点动测试...")
    for i in range(1, 7):
        for dir in [0, 1]:
            print("关节{} {}方向点动...".format(i, "正" if dir else "负"))
            # 关节点动，速度50%，加速度50%，单次最大点动角度为5°
            ret = StartJOG(0, i, dir, 50, 50, 5)
            if ret[0] == 0:
                sleep(1)  # 持续1秒
                StopJOG(1)  # 减速停止
        
    # 基坐标系点动测试
    print("开始基坐标系点动测试...")
    for i in range(1, 4):
        for dir in [0, 1]:
            print("基坐标系轴{} {}方向点动...".format(i, "正" if dir else "负"))
            # 基坐标系点动，速度50%，加速度50%，单次最大点动距离为10mm
            ret = StartJOG(2, i, dir, 50, 50, 10)
            if ret[0] == 0:
                sleep(1)  # 持续1秒
                StopJOG(3)  # 减速停止
        
    # 工具坐标系点动测试
    print("开始工具坐标系点动测试...")
    for i in range(1, 4):
        for dir in [0, 1]:
            print("工具坐标系轴{} {}方向点动...".format(i, "正" if dir else "负"))
            # 工具坐标系点动，速度50%，加速度50%，单次最大点动距离为10mm
            ret = StartJOG(4, i, dir, 50, 50, 10)
            if ret[0] == 0:
                sleep(1)  # 持续1秒
                StopJOG(5)  # 减速停止
                
    print("测试完成")

if __name__ == "__main__":
    test_jogging()
```

在这个测试程序中，我们使用了三个嵌套的for循环来进行关节、基坐标系和工具坐标系下的点动测试，每次点动之后持续1秒，并使用StopJOG函数进行减速停止。

请注意修改代码中的导入机器人控制模块部分，并根据实际情况更改测试参数。如果您还有其他需要测试的功能，请告诉我，我会尽力帮您解决。
